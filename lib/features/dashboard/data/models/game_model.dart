import 'package:rawg/features/dashboard/data/models/esrb_rating_model.dart';
import 'package:rawg/features/dashboard/data/models/genre_model.dart';
import 'package:rawg/features/dashboard/data/models/parent_platform_model.dart';
import 'package:rawg/features/dashboard/data/models/store_model.dart';
import 'package:rawg/features/dashboard/domain/entities/game.dart';

class GameModel extends Game {
  GameModel({
    required super.id,
    required super.slug,
    required super.name,
    required super.released,
    required super.tba,
    required super.backgroundImage,
    required super.ratingsCount,
    required super.reviewsTextCount,
    required super.added,
    required super.metacritic,
    required super.playtime,
    required super.suggestionsCount,
    required super.reviewsCount,
    required super.saturatedColor,
    required super.dominantColor,
    required super.parentPlatforms,
    required super.genres,
    required super.stores,
    super.esrbRating,
  });

  GameModel copyWith({
    int? id,
    String? slug,
    String? name,
    DateTime? released,
    bool? tba,
    String? backgroundImage,
    int? ratingsCount,
    int? reviewsTextCount,
    int? added,
    int? metacritic,
    int? playtime,
    int? suggestionsCount,
    int? reviewsCount,
    String? saturatedColor,
    String? dominantColor,
    List<ParentPlatformModel>? parentPlatforms,
    List<GenreModel>? genres,
    List<StoreModel>? stores,
    EsrbRatingModel? esrbRating,
  }) => GameModel(
    id: id ?? this.id,
    slug: slug ?? this.slug,
    name: name ?? this.name,
    released: released ?? this.released,
    tba: tba ?? this.tba,
    backgroundImage: backgroundImage ?? this.backgroundImage,
    ratingsCount: ratingsCount ?? this.ratingsCount,
    reviewsTextCount: reviewsTextCount ?? this.reviewsTextCount,
    added: added ?? this.added,
    metacritic: metacritic ?? this.metacritic,
    playtime: playtime ?? this.playtime,
    suggestionsCount: suggestionsCount ?? this.suggestionsCount,
    reviewsCount: reviewsCount ?? this.reviewsCount,
    saturatedColor: saturatedColor ?? this.saturatedColor,
    dominantColor: dominantColor ?? this.dominantColor,
    parentPlatforms: parentPlatforms ?? this.parentPlatforms,
    genres: genres ?? this.genres,
    stores: stores ?? this.stores,
    esrbRating: esrbRating ?? this.esrbRating,
  );

  factory GameModel.fromJson(Map<String, dynamic> json) => GameModel(
    id: json["id"],
    slug: json["slug"] ?? '',
    name: json["name"] ?? '',
    released: json["released"] != null ? DateTime.parse(json["released"]) : DateTime.now(),
    tba: json["tba"] ?? false,
    backgroundImage: json["background_image"] ?? '',
    ratingsCount: json["ratings_count"] ?? 0,
    reviewsTextCount: json["reviews_text_count"] ?? 0,
    added: json["added"] ?? 0,
    metacritic: json["metacritic"] ?? 0,
    playtime: json["playtime"] ?? 0,
    suggestionsCount: json["suggestions_count"] ?? 0,
    reviewsCount: json["reviews_count"] ?? 0,
    saturatedColor: json["saturated_color"] ?? '0f0f0f',
    dominantColor: json["dominant_color"] ?? '0f0f0f',
    parentPlatforms: json["parent_platforms"] != null ? List<ParentPlatformModel>.from(json["parent_platforms"].map((x) => ParentPlatformModel.fromJson(x))) : [],
    genres: json["genres"] != null ? List<GenreModel>.from(json["genres"].map((x) => GenreModel.fromJson(x))) : [],
    stores: json["stores"] != null ? List<StoreModel>.from(json["stores"].map((x) => StoreModel.fromJson(x))) : [],
    esrbRating: json["esrb_rating"] != null ? EsrbRatingModel.fromJson(json["esrb_rating"]) : null,
  );
}